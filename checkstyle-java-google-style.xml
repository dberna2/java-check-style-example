<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
  "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"
  "https://checkstyle.org/dtds/configuration_1_3.dtd">

<module name="Checker">

  <property name="charset" value="UTF-8"/>
  <property name="severity" value="warning"/>
  <property name="localeLanguage" value="en"/>
  <property name="localeCountry" value="EN"/>
  <property name="fileExtensions" value="java, json, properties, proto, sql, xml, wsdl, yaml, yml"/>

  <module name="LineLength">
    <property name="fileExtensions" value="java"/>
    <property name="max" value="140"/>
    <property name="ignorePattern" value="^package.*|^import.*|a href|href|http://|https://|ftp://"/>
  </module>

  <module name="SuppressWithPlainTextCommentFilter">
    <property name="offCommentFormat" value="@formatter:off"/>
    <property name="onCommentFormat" value="@formatter:on"/>
  </module>

  <module name="FileTabCharacter">
    <property name="eachLine" value="true"/>
  </module>

  <module name="RegexpSingleline">
    <property name="format"
      value="(\s+$(?&lt;!\s*?\*\s))"/> <!--added regexp to skip empty javadoc lines, which caused a lot of trivial, non-fixable violations-->
    <property name="message" value="Line with trailing whitespaces."/>
  </module>

  <module name="RegexpSingleline">
    <property name="fileExtensions" value="json, properties, proto, sql, xml, wsdl, yaml, yml"/>
    <property name="format" value="^(?!(\s{2})*(\S|$|\s\*))"/>
    <property name="message" value="Line with no two-space indentation."/>
  </module>

  <!-- Added to support the formatter:off formatter annotation-->
  <module name="RegexpMultiline">
    <property name="fileExtensions" value="json, properties, proto, sql, xml, wsdl, yaml, yml"/>
    <property name="format" value="^(?:\r\n|\r|\n)^$"/>
    <property name="message" value="Multiple empty lines."/>
  </module>

  <module name="NeedBraces"/>

  <module name="WhitespaceAfter">
    <property name="tokens" value="COMMA"/>
  </module>

  <module name="MethodName">
    <message key="name.invalidPattern"
      value="Method name ''{0}'' must match pattern ''{1}''."/>
    <property name="format" value="^[a-z][a-z0-9][a-zA-Z0-9_]*$"/>
  </module>
</module>